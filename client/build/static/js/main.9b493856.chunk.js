(this.webpackJsonpcms=this.webpackJsonpcms||[]).push([[0],{114:function(e,a,t){},116:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),s=t(25),c=t.n(s),r=t(43),o=t(13),i=t(16),m=t(4),d=t(7),u=t.n(d),E=t(14),p=t.n(E),g=function(){return p.a.get("/api/user/getUser")},h=function(e){return p.a.post("/api/user/signup",e)},v=function(e){return p.a.post("/api/user/login",e)},N=function(){return p.a.get("/api/user/logout")},b=function(e,a){return p.a.put("/api/user/"+e,a)},f=function(e){return p.a.post("/api/task/create",e)},k=function(){return p.a.get("/api/task")},x=function(e){return p.a.put("/api/task/"+e)};var w=class{static authenticateUser(e){localStorage.setItem("token",e)}static isUserAuthenticated(){return null!==localStorage.getItem("token")}static deauthenticateUser(){localStorage.removeItem("token")}static getToken(){return localStorage.getItem("token")}},y=n.a.createContext({}),C=n.a.createContext({updateContextTask:()=>{}});t(67);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".sidenav");u.a.Sidenav.init(e)}));var S=function(){var e=Object(l.useContext)(C),a=Object(l.useContext)(y),t=Object(m.g)();console.log(a);var s=a=>{a.preventDefault(),console.log("logout"),N().then(a=>{200===a.status?(console.log("React Logout"),w.deauthenticateUser(),e(),t.push("/")):console.log("Some error ocurred")}).catch(e=>{console.log(e)})},c=()=>a?n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(i.b,{to:"/account"},"Account: ",a.email)),n.a.createElement("li",null,n.a.createElement(i.b,{to:"/logout",onClick:s},"LogOut"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(i.b,{to:"/signup"},"Signup")),n.a.createElement("li",null,n.a.createElement(i.b,{to:"/login"},"Login")));return n.a.createElement("header",null,n.a.createElement("nav",{className:"blue",role:"navigation"},n.a.createElement("div",{className:"nav-wrapper"},n.a.createElement("a",{href:"/",className:"brand-logo"},"Communify"),n.a.createElement("a",{href:"/","data-target":"mobile-demo",className:"sidenav-trigger"},n.a.createElement("i",{className:"material-icons"},"menu")),n.a.createElement("ul",{className:"right hide-on-med-and-down"},c()))),n.a.createElement("ul",{className:"sidenav",id:"mobile-demo"},c()))},j=n.a.createContext(),O=(t(72),t(3)),L=()=>{var e=Object(l.useContext)(j),a=Object(l.useContext)(C);return n.a.createElement(O.Collapsible,null,e.map(t=>n.a.createElement(O.CollapsibleItem,{key:t._id,header:n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Title:")," ",t.title)},n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Description:")," ",n.a.createElement("span",{className:"taskList"},t.description)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Creator:")," ",n.a.createElement("span",{className:"taskList"},t.createdBy)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Location:")," ",n.a.createElement("span",{className:"taskList"},t.location)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Task Status:")," ",n.a.createElement("span",{className:"taskList"},t.taskStatus)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Task Expires:")," ",n.a.createElement("span",{className:"taskList"},t.taskExpires)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Status Value: ")," ",n.a.createElement("span",{className:"taskList"},t.statusValue)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Accepted By: ")," ",n.a.createElement("span",{className:"taskList"},t.completedBy)),n.a.createElement("a",{className:"btn-floating btn-small waves-effect waves-light blue",href:"#",onClick:l=>{l.preventDefault(),(t=>{var l=e.filter(e=>"tm@gg.com"===e.completedBy);x(t).then(e=>{200===e.status?(console.log("Successful update of task"),u.a.toast({html:"You Accepted the Task"}),a(),console.log(l)):console.log("Some error ocurred")}).catch(e=>{console.log(e)})})(t._id)}},n.a.createElement("i",{className:"material-icons"},"add")))))};var T=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"section"},n.a.createElement(O.Slider,{fullscreen:!1,options:{duration:500,height:400,indicators:!0,interval:6e3}},n.a.createElement(O.Slide,{image:n.a.createElement("img",{alt:"",src:"./img/volunt1.png"})},n.a.createElement(O.Caption,{placement:"center"},n.a.createElement("h3",null,"This is our big Tagline!"),n.a.createElement("h5",{className:"light grey-text text-lighten-3"},"Here's our small slogan."))),n.a.createElement(O.Slide,{image:n.a.createElement("img",{alt:"",src:"./img/volunt2.jpg"})},n.a.createElement(O.Caption,{placement:"left"},n.a.createElement("h3",null,"Left Aligned Caption"),n.a.createElement("h5",{className:"light grey-text text-lighten-3"},"Here's our small slogan."))),n.a.createElement(O.Slide,{image:n.a.createElement("img",{alt:"",src:"./img/volunt3.jpg"})},n.a.createElement(O.Caption,{placement:"right"},n.a.createElement("h3",null,"Right Aligned Caption"),n.a.createElement("h5",{className:"light grey-text text-lighten-3"},"Here's our small slogan."))),n.a.createElement(O.Slide,{image:n.a.createElement("img",{alt:"",src:"./img/volunt4.jpg"})},n.a.createElement(O.Caption,{placement:"center"},n.a.createElement("h3",null,"This is our big Tagline!"),n.a.createElement("h5",{className:"light grey-text text-lighten-3"},"Here's our small slogan.")))))),n.a.createElement("div",null,n.a.createElement(O.Parallax,{image:n.a.createElement("img",{alt:"",src:"./img/handbg.jpg"}),options:{responsiveThreshold:0}}),n.a.createElement("div",{className:"section white"},n.a.createElement("div",{className:"card-panel"},n.a.createElement("h3",{className:"center-align blue text-white"},"TASKBOARD"),n.a.createElement(L,null))),n.a.createElement(O.Parallax,{image:n.a.createElement("img",{alt:"",src:"./img/handbg.jpg"}),options:{responsiveThreshold:0}})),n.a.createElement("footer",{class:"page-footer"},n.a.createElement("div",{class:"container"},n.a.createElement("div",{class:"row"},n.a.createElement("div",{class:"col l6 s12"},n.a.createElement("h5",{class:"white-text"},"Footer Content"),n.a.createElement("p",{class:"grey-text text-lighten-4"},"You can use rows and columns here to organize your footer content.")),n.a.createElement("div",{class:"col l4 offset-l2 s12"},n.a.createElement("h5",{class:"white-text"},"Links"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{class:"grey-text text-lighten-3",href:"#!"},"Link 1")),n.a.createElement("li",null,n.a.createElement("a",{class:"grey-text text-lighten-3",href:"#!"},"Link 2")),n.a.createElement("li",null,n.a.createElement("a",{class:"grey-text text-lighten-3",href:"#!"},"Link 3")),n.a.createElement("li",null,n.a.createElement("a",{class:"grey-text text-lighten-3",href:"#!"},"Link 4")))))),n.a.createElement("div",{class:"footer-copyright"},n.a.createElement("div",{class:"container"},"\xa9 2014 Copyright Text",n.a.createElement("a",{class:"grey-text text-lighten-4 right",href:"#!"},"More Links")))))},P=t(8);var D=function(){var e=Object(l.useContext)(C),a=Object(l.useState)({title:"",description:"",category:"",location:"",taskExpires:""}),t=Object(o.a)(a,2),s=t[0],c=t[1],r=e=>{var a=e.target,t=a.id,l=a.value;c(e=>Object(P.a)(Object(P.a)({},e),{},{[t]:l}))};return n.a.createElement("div",{className:"row"},n.a.createElement("form",{className:"col s12"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{placeholder:"Task Title",id:"title",type:"text",className:"validate",value:s.title,onChange:r}),n.a.createElement("label",{htmlFor:"title"},"Title")),n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{placeholder:"This task is about...",id:"description",type:"text",className:"validate",value:s.description,onChange:r}),n.a.createElement("label",{htmlFor:"description"},"Description"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{placeholder:"Location task to be completed",id:"location",type:"text",className:"validate",value:s.location,onChange:r}),n.a.createElement("label",{htmlFor:"location"},"Location"))),n.a.createElement("div",{className:"row"},n.a.createElement(O.DatePicker,{label:"Task Expiry Date",placeholder:"Expiry Date",id:"taskExpires",value:s.taskExpires,onChange:e=>{console.log(e.toDateString()),e=e.toDateString(),c(a=>Object(P.a)(Object(P.a)({},a),{},{taskExpires:e}))}}),n.a.createElement(O.Select,{label:"Task Category",placeholder:"This task category is",id:"category",type:"select",value:s.category,onChange:r},n.a.createElement("option",{value:"",disabled:!0},"Choose Category"),n.a.createElement("option",{value:"Physical"},"Physical"),n.a.createElement("option",{value:"Education"},"Education"),n.a.createElement("option",{value:"IT"},"IT"))),n.a.createElement("div",{className:"row"},n.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:a=>{if(console.log(w.getToken()),a.preventDefault(),s.title){var t={title:s.title,description:s.description,category:s.category,location:s.location,taskExpires:s.taskExpires,createdBy:w.getToken()};console.log(s),console.log(t),f(t).then(a=>{console.log(a.data),200===a.status?(e(),c({title:"",description:"",category:"",location:"",taskExpires:""}),console.log("Successful Save of task"),u.a.toast({html:"Successful Save of task"})):console.log("Some error ocurred in API")}).catch(e=>{console.log(e),console.log("Some error ocurred in Catch"),u.a.toast({html:"Invalid inputs: Ensure all data is entered correctly"})})}else console.log("Please enter valid username and password"),u.a.toast({html:"Invalid inputs: Ensure all data is entered correctly"})}},"Submit",n.a.createElement("i",{className:"material-icons right"},"send")))))},F=(t(114),e=>n.a.createElement(O.Collapsible,null,e.data.map(e=>n.a.createElement(O.CollapsibleItem,{key:e._id,header:n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Title:")," ",e.title)},n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Description:")," ",n.a.createElement("span",{className:"taskList"},e.description)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Creator:")," ",n.a.createElement("span",{className:"taskList"},e.createdBy)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Location:")," ",n.a.createElement("span",{className:"taskList"},e.location)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Task Status:")," ",n.a.createElement("span",{className:"taskList"},e.taskStatus)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Task Expires:")," ",n.a.createElement("span",{className:"taskList"},e.taskExpires)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Status Value: ")," ",n.a.createElement("span",{className:"taskList"},e.statusValue)),n.a.createElement("h6",null,n.a.createElement("span",{className:"bold"},"Accepted By: ")," ",n.a.createElement("span",{className:"taskList"},e.completedBy))))));var A=function(){var e=Object(l.useContext)(C),a=Object(l.useContext)(y),t=Object(l.useState)({}),s=Object(o.a)(t,2),c=s[0],r=s[1],i=e=>{var a=e.target,t=a.id,l=a.value;r(e=>Object(P.a)(Object(P.a)({},e),{},{[t]:l}))};return n.a.createElement("div",{className:"row"},n.a.createElement("form",{className:"col s12"},n.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:e=>{e.preventDefault();var t=a;console.log(t),r(t)}},"Populate User Info",n.a.createElement("i",{className:"material-icons right"},"get_app")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{placeholder:"First Name: e.g. John",id:"firstName",type:"text",className:"validate",value:c.firstName,onChange:i})),n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{placeholder:"Last Name: e.g. Smith",id:"lastName",type:"text",className:"validate",value:c.lastName,onChange:i}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{placeholder:"Address: e.g. 57, Example drive, Sometown, Some State",id:"address",type:"text",className:"validate",value:c.address,onChange:i}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{placeholder:"Skills: e.g Wood work, carpentary",id:"skills",type:"text",className:"validate",value:c.skills,onChange:i}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{placeholder:"Experience: e.g. Worked at Joe's builders",id:"experience",type:"text",className:"validate",value:c.experience,onChange:i}))),n.a.createElement("div",{className:"row"},n.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:t=>{if(t.preventDefault(),c.firstName&&c.lastName&&c.address){var l=a._id,n={firstName:c.firstName,lastName:c.lastName,address:c.address,skills:c.skills.split(","),experience:c.experience.split(",")};console.log(l),b(l,n).then(a=>{200===a.status?(console.log("Successful update of User"),u.a.toast({html:"Successful update of User"}),e()):(console.log("Some error ocurred"),u.a.toast({html:"Did not update server error occurred"}))}).catch(e=>{console.log(e),u.a.toast({html:"Did not update server error occurred or invalid inputs"})})}else console.log("Please enter valid username and password"),u.a.toast({html:"Please enter valid inputs"})}},"Submit",n.a.createElement("i",{className:"material-icons right"},"send")))))},U=()=>{var e,a,t,s,c=Object(l.useContext)(y),r=Object(l.useContext)(j);if(r){if(console.log(r),e=r.filter(e=>e.completedBy===c.email),a=r.filter(e=>e.createdBy===c.email),c.skills){var o=0;t=c.skills.map(e=>(console.log(e),o++,n.a.createElement("div",{className:"chip",key:o},e," ")))}else t="Loading...";if(c.experience){s=c.experience.map(e=>(console.log(e),n.a.createElement("div",{className:"chip",key:1},e," ")))}else s="Loading..."}return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"section"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12"},n.a.createElement("div",{className:"card sticky-action hoverable"},n.a.createElement("div",{className:"card-content center waves-effect waves-block waves-light"},n.a.createElement("img",{src:"https://avatars.dicebear.com/api/initials/".concat(c.firstName," ").concat(c.lastName,".svg?options[top][]=longHair"),alt:"",className:"circle center responsive-img z-depth-5",height:"30%",width:"30%"})),n.a.createElement("div",{className:"card-content blue-grey darken-1"},n.a.createElement("span",{className:"card-title activator white-text text-darken-4"},c.firstName," ",c.lastName,n.a.createElement("i",{className:"material-icons right"},"more_vert")),n.a.createElement("p",null,n.a.createElement("a",{href:"#",className:"yellow-text"},"Status Level: ",c.statusLevel)),n.a.createElement("p",null,n.a.createElement("a",{href:"#",className:"yellow-text"},"Status Points: ",c.statusPoints))),n.a.createElement(O.Tabs,null,n.a.createElement(O.Tab,{title:"Profile",idx:"tab-1"},n.a.createElement("div",{className:"card-content grey lighten-4"},n.a.createElement("div",{className:"right"},n.a.createElement(O.Modal,{header:"Update User",trigger:n.a.createElement(O.Button,null,n.a.createElement("i",{className:"material-icons"},"create"))},n.a.createElement(A,null))),n.a.createElement("h6",null,"Full Name "),n.a.createElement("p",null,c.firstName," ",c.lastName),n.a.createElement("h6",null,"e-Mail: "),n.a.createElement("p",null,c.email),n.a.createElement("h6",null,"Address: "),n.a.createElement("p",null,c.address),n.a.createElement("h6",null,"Skills:"),t,n.a.createElement("h6",null,"Experience: "),s)),n.a.createElement(O.Tab,{title:"Accepted Tasks",idx:"tab-2"},n.a.createElement("div",{className:"card-content grey lighten-4"},n.a.createElement(F,{data:e}))),n.a.createElement(O.Tab,{title:"Created Tasks",idx:"tab-3"},n.a.createElement("div",{className:"card-content grey lighten-4"},n.a.createElement(F,{data:a})))),n.a.createElement("div",{className:"card-action blue-grey lighten-2"},n.a.createElement(O.Modal,{header:"Create Task",trigger:n.a.createElement(O.Button,null,"Create Task")},n.a.createElement(D,null))),n.a.createElement("div",{className:"card-reveal"},n.a.createElement("span",{className:"card-title grey-text text-darken-4"},"Communify Status",n.a.createElement("i",{className:"material-icons right"},"close")),n.a.createElement("h5",null,"Scout = 0 - 200 points"),n.a.createElement("h5",null,"Good Samaritan = 200 - 500 points"),n.a.createElement("h5",null,"Champion = 500 - 1000 points"),n.a.createElement("h5",null,"Local Legend = 1000+ points")))))))},B=()=>n.a.createElement("div",null,n.a.createElement("h1",null,"404 Page Not Found"),n.a.createElement("h1",null,n.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44")));var I=function(e){var a=Object(l.useContext)(C),t=Object(m.g)(),s=Object(l.useState)({firstName:"",lastName:"",email:"",password:""}),c=Object(o.a)(s,2),r=c[0],i=c[1],d=e=>{var a=e.target,t=a.id,l=a.value;i(e=>Object(P.a)(Object(P.a)({},e),{},{[t]:l}))};return n.a.createElement("div",{className:"row"},n.a.createElement("form",{className:"col s12"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{placeholder:"i.e. John",id:"firstName",type:"text",className:"validate",value:r.firstName,onChange:d}),n.a.createElement("label",{htmlFor:"firstName"},"First Name")),n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{placeholder:"i.e. Smith",id:"lastName",type:"text",className:"validate",value:r.lastName,onChange:d}),n.a.createElement("label",{htmlFor:"lastName"},"Last Name"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{placeholder:"jsmith@email.com",id:"email",type:"email",className:"validate",value:r.email,onChange:d}),n.a.createElement("label",{htmlFor:"email"},"Email"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{placeholder:"P@sSw0rd",id:"password",type:"password",className:"validate",value:r.password,onChange:d}),n.a.createElement("label",{htmlFor:"password"},"Password"))),n.a.createElement("div",{className:"row"},n.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:e=>{if(e.preventDefault(),r.email&&r.password&&r.firstName&&r.lastName){var l={email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName};h(l).then(e=>{console.log(e.data),200===e.status?(i({firstName:"",lastName:"",email:"",password:""}),console.log("Successful Save of User"),w.authenticateUser(e.data.email),a(),t.push("/account")):console.log("Some error ocurred")}).catch(e=>{console.log(e)})}else console.log("Please enter valid username and password")}},"Submit",n.a.createElement("i",{className:"material-icons right"},"send")))))};var _=function(e){var a=Object(l.useContext)(C),t=Object(m.g)(),s=Object(l.useState)({email:"",password:""}),c=Object(o.a)(s,2),r=c[0],i=c[1],d=e=>{var a=e.target,t=a.id,l=a.value;i(e=>Object(P.a)(Object(P.a)({},e),{},{[t]:l}))};return n.a.createElement("div",{className:"row"},n.a.createElement("form",{className:"col s12"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{placeholder:"jsmith@email.com",id:"email",type:"email",className:"validate",value:r.email,onChange:d}),n.a.createElement("label",{htmlFor:"email"},"Email"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{placeholder:"P@sSw0rd",id:"password",type:"password",className:"validate",value:r.password,onChange:d}),n.a.createElement("label",{htmlFor:"password"},"Password"))),n.a.createElement("div",{className:"row"},n.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",onClick:e=>{if(e.preventDefault(),r.email&&r.password){var l={email:r.email,password:r.password};v(l).then(e=>{console.log(e.data),200===e.status?(i({email:"",password:""}),console.log("Login of User"),w.authenticateUser(e.data.email),a(),t.push("/account")):console.log("Some error ocurred")}).catch(e=>{console.log(e)})}else console.log("Please enter valid username and password")}},"Submit",n.a.createElement("i",{className:"material-icons right"},"send")))))};function H(e){var a=e.component,t=Object(r.a)(e,["component"]);return n.a.createElement(m.b,Object.assign({},t,{render:e=>w.isUserAuthenticated()?n.a.createElement(a,e):n.a.createElement(m.a,{to:{pathname:"/login"}})}))}var J=function(){var e=Object(l.useState)({}),a=Object(o.a)(e,2),t=a[0],s=a[1],c=Object(l.useState)([]),r=Object(o.a)(c,2),d=r[0],u=r[1],E=()=>{var e=t._id;console.log(e),k().then(e=>{console.log("Get All Updated Context Tasks"),console.log(e.data),u(e.data)}),p()},p=()=>{g().then(e=>{console.log(e.data),s(e.data)})};return Object(l.useEffect)(()=>{p(),E()},[]),n.a.createElement(y.Provider,{value:t},n.a.createElement(j.Provider,{value:d},n.a.createElement(C.Provider,{value:E},n.a.createElement("div",null,n.a.createElement(i.a,null,n.a.createElement(S,null),n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:"/",component:T}),n.a.createElement(m.b,{exact:!0,path:"/home",component:T}),n.a.createElement(m.b,{exact:!0,path:"/signup",component:I}),n.a.createElement(H,{exact:!0,path:"/account",component:U}),n.a.createElement(m.b,{exact:!0,path:"/login",component:_}),n.a.createElement(m.b,{path:"*",component:B})))))))};t(115);c.a.render(n.a.createElement(J,null),document.getElementById("root"))},44:function(e,a,t){e.exports=t(116)},67:function(e,a,t){},72:function(e,a,t){}},[[44,1,2]]]);
//# sourceMappingURL=main.9b493856.chunk.js.map